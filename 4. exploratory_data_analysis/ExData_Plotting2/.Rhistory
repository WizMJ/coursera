barplot(Emission.year, xlab="Year", ylab=expression(paste0("Total Emissions of PM"[2.5],"(Tons)")),
main="Total Emissions from PM2.5 from 1999 to 2008")
barplot(Emission.year)
Emission.year
barplot(Emission.year)
plot(Emission.year)
t(Emission.year)
barplot(t(Emission.year))
barplot(Emission.year$sum)
barplot(Emission.year$sum, names.arg=Emission.year$year,xlab="Year", ylab=expression(paste0("Total Emissions of PM"[2.5],"(Tons)")),
main="Total Emissions from PM2.5 from 1999 to 2008")
barplot(Emission.year$sum, names.arg=Emission.year$year,xlab="Year", ylab=expression("Total Emissions of PM"[2.5],"(Tons)"), main="Total Emissions from PM2.5 from 1999 to 2008")
rm(list=ls())
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(dplyr)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question: Have total emissions from PM2.5 decreased in the United States from 1999 to 2008?
#Sampling: size=10,000
set.seed(12345)
data <- NEI[sample(nrow(NEI),10000),]
#Emission Summation by year
Emission.year<- group_by(data,year) %>% summarise(sum=sum(Emissions))
png("plot1.png",width=480,height=480)
barplot(Emission.year$sum, names.arg=Emission.year$year,xlab="Year", ylab=expression("Total Emissions of PM"[2.5],"(Tons)"), main="Total Emissions of PM2.5 from 1999 to 2008")
dev.off()
rm(list=ls())
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 2: Have total emissions from PM2.5 decreased in the Baltimore City, Maryland (fips == "24510") from 1999 to 2008?
#Sampling: size=10,000
set.seed(12345)
data <- NEI[sample(nrow(NEI),10000),]
baltimore <-subset(NEI,fips=="24510")
baltimore.year<- group_by(baltimore,year) %>% summarise(sum=sum(Emissions))
barplot(baltimore.year$sum, names.arg=baltimore.year$year,xlab="Year", ylab=expression("Total Emissions of PM"[2.5],"(Tons)"), main="Total Emissions of PM2.5 in the Baltimore City, from 1999 to 2008")
barplot(baltimore.year$sum, names.arg=baltimore.year$year,xlab="Year", ylab=expression(paste0("Total Emissions of PM"[2.5],"(Tons)")), main="Total Emissions of PM2.5 in the Baltimore City, from 1999 to 2008")
barplot(baltimore.year$sum, names.arg=baltimore.year$year,xlab="Year", ylab=expression(paste("Total Emissions of PM","[2.5]","(Tons)")), main="Total Emissions of PM2.5 in the Baltimore City, from 1999 to 2008")
barplot(baltimore.year$sum, names.arg=baltimore.year$year,xlab="Year", ylab=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")), main="Total Emissions of PM2.5 in the Baltimore City, from 1999 to 2008")
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(dplyr)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 1: Have total emissions from PM2.5 decreased in the United States from 1999 to 2008?
#Sampling: size=10,000
set.seed(12345)
data <- NEI[sample(nrow(NEI),10000),]
Emission.year<- group_by(data,year) %>% summarise(sum=sum(Emissions))
barplot(Emission.year$sum, names.arg=Emission.year$year,xlab="Year",
ylab=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")),
main="Total Emissions of PM2.5 from 1999 to 2008")
barplot(Emission.year$sum, names.arg=Emission.year$year,xlab="Year",
ylab=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")),
main="Total Emissions of PM"[2.5] "from 1999 to 2008")
barplot(Emission.year$sum, names.arg=Emission.year$year,xlab="Year",
ylab=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")),
main="Total Emissions of PM",""[2.5] "from 1999 to 2008")
set.seed(12345)
data <- NEI[sample(nrow(NEI),10000),]
#Emission Summation by year
Emission.year<- group_by(data,year) %>% summarise(sum=sum(Emissions))
barplot(Emission.year$sum, names.arg=Emission.year$year,xlab="Year",
ylab=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")),
main="Total Emissions of PM",""[2.5] "from 1999 to 2008")
barplot(Emission.year$sum, names.arg=Emission.year$year,xlab="Year",
ylab=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")),
main="Total Emissions of PM",""[2.5], "from 1999 to 2008")
barplot(Emission.year$sum, names.arg=Emission.year$year,xlab="Year",
ylab=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")),
main=expression(paste("Total Emissions of PM",""[2.5], "from 1999 to 2008")))
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(dplyr)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 1: Have total emissions from PM2.5 decreased in the United States from 1999 to 2008?
#Sampling: size=10,000
set.seed(12345)
data <- NEI[sample(nrow(NEI),10000),]
#Emission Summation by year
Emission.year<- group_by(data,year) %>% summarise(sum=sum(Emissions))
#Barplot
png("plot1.png",width=480,height=480)
barplot(Emission.year$sum, names.arg=Emission.year$year,xlab="Year",
ylab=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")),
main=expression(paste("Total Emissions of PM",""[2.5], " from 1999 to 2008")))
dev.off()
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(dplyr)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 2: Have total emissions from PM2.5 decreased in the Baltimore City, Maryland (fips == "24510") from 1999 to 2008?
# Extract baltimore city data
baltimore <-subset(NEI,fips=="24510")
# Emission summation of Baltimore by year
baltimore.year<- group_by(baltimore,year) %>% summarise(sum=sum(Emissions))
#Barplot
png("plot2.png",width=480,height=480)
barplot(baltimore.year$sum, names.arg=baltimore.year$year,xlab="Year",
ylab=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")),
main=expression(paste("Total Emissions of PM",""[2.5], " in the Baltimore City","from 1999 to 2008")))
dev.off()
png("plot2.png",width=480,height=480)
barplot(baltimore.year$sum, names.arg=baltimore.year$year,xlab="Year",
ylab=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")),
main=expression(paste("Total Emissions of PM",""[2.5], " in the Baltimore City"," from 1999 to 2008")))
dev.off()
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(dplyr)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
baltimore <-subset(NEI,fips=="24510")
g<-ggplot(baltimore,aes(year,Emissions))
g+geom_bar(stat="identity")+facet_grid(.~as.factor(type))+theme_bw()
g<-ggplot(baltimore,aes(year,Emissions))
library(ggplot2)
#ggplot
g<-ggplot(baltimore,aes(year,Emissions))
g+geom_bar(stat="identity")+facet_grid(.~as.factor(type))+theme_bw()
g<-ggplot(baltimore,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+facet_grid(.~as.factor(type))+theme_bw()
g<-ggplot(baltimore,aes(factor(year),Emissions,col=type))
g+geom_bar(stat="identity")+facet_grid(.~as.factor(type))+theme_bw()
g<-ggplot(baltimore,aes(factor(year),Emissions,fill=type))
g+geom_bar(stat="identity")+facet_grid(.~as.factor(type))+theme_bw()
g<-ggplot(baltimore,aes(factor(year),Emissions,fill=type))
g+geom_bar(stat="identity")+facet_grid(.~as.factor(type))+theme_bw()+labs(fill="Type")
g<-ggplot(baltimore,aes(factor(year),Emissions,fill=type))
g+geom_bar(stat="identity")+facet_grid(.~as.factor(type))+theme_bw()+labs(fill="Type")+
labs(title=expression(paste("Emissions of PM",""[2.5], " by the type"," in the Baltimore City"," from 1999 to 2008")))
g<-ggplot(baltimore,aes(factor(year),Emissions,fill=type))
g+geom_bar(stat="identity")+facet_grid(.~as.factor(type))+theme_bw()+labs(fill="Type")+
labs(xlab="Year", ylab=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Emissions of PM",""[2.5], " by source type"," in the Baltimore City"," from 1999 to 2008")))
g<-ggplot(baltimore,aes(factor(year),Emissions,fill=type))
g+geom_bar(stat="identity")+facet_grid(.~as.factor(type))+theme_bw()+labs(fill="Type")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Emissions of PM",""[2.5], " by source type"," in the Baltimore city"," from 1999 to 2008")))
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 3: Of the four types of sources indicated by the type (point, nonpoint, onroad, nonroad) variable, which of these four sources have seen decreases in emissions from 1999–2008 for Baltimore City? Which have seen increases in emissions from 1999–2008?
# Extract baltimore city data
baltimore <-subset(NEI,fips=="24510")
#plot by source type
png("plot3.png",width=480,height=480)
g<-ggplot(baltimore,aes(factor(year),Emissions,fill=type))
g+geom_bar(stat="identity")+facet_grid(.~as.factor(type))+theme_bw()+labs(fill="Type")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Emissions of PM",""[2.5], " by source type"," in the Baltimore city"," from 1999 to 2008")))
dev.off()
View(SCC)
??grepl
coal.comb <-grepl("coal",SCC$EI.Sector,ignore.case=TRUE)
head(coal.comb)
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
coal.comb <-grepl("Coal",SCC$EI.Sector,ignore.case=TRUE)
coal.comb <-SCC[grepl("Coal",SCC$EI.Sector,ignore.case=TRUE),]
View(coal.comb)
coal <-grepl("coal",SCC$Short.Name,ignore.case=TRUE)
comb <-grepl("comb",SCC$Short.Name,ignore.case=TRUE)
coal.comb <-coal&comb
SCC.coal.comb <-SCC[coal.comb,]
View(SCC.coal.comb)
merged<- NEI$SCC %in% coal.comb
coal.comb
SCC.coal.comb <-SCC[coal.comb,]$SCC
merged<- NEI$SCC %in% SCC.coal.comb
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
coal <-grepl("coal",SCC$Short.Name,ignore.case=TRUE)
comb <-grepl("comb",SCC$Short.Name,ignore.case=TRUE)
coal.comb <-coal&comb
SCC.coal.comb <-SCC[coal.comb,]$SCC
SCC.coal.comb <-SCC$SCC[coal.comb]
coal
coal.comb
SCC$SCC
rm(SCC.coal.comb)
SCC.coal.comb <-SCC[coal.comb]$SCC
SCC.coal.comb <-SCC[coal.comb]$SCC
SCC.coal.comb <-SCC[coal.comb,]$SCC
SCC.coal.comb <-SCC$SCC[coal.comb]
NEI$SCC %in% SCC.coal.comb
NEI.coal.comb<- NEI[NEI$SCC %in% SCC.coal.comb,]
View(NEI.coal.comb)
g<-ggplot(baltimore,aes(factor(year),Emissions,fill=type))
g+geom_bar(stat="identity")+facet_grid(.~as.factor(type))+theme_bw()+labs(fill="Type")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Emissions of PM",""[2.5], " by source type"," in the Baltimore city"," from 1999 to 2008")))
g<-ggplot(NEI.coal.comb,aes(factor(year),Emissions))
g<-ggplot(NEI.coal.comb,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Coal Combustion related Emissions of PM",""[2.5], "from 1999 to 2008")))
g<-ggplot(NEI.coal.comb,aes(factor(year),Emissions/1000))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (10^3 x Tons)")))+
labs(title=expression(paste("Coal Combustion related Emissions of PM",""[2.5], "from 1999 to 2008")))
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 4: Across the United States, how have emissions from coal combustion-related sources changed from 1999–2008?
#Find SCC that is related to Coal combustion
coal <-grepl("coal",SCC$Short.Name,ignore.case=TRUE)
comb <-grepl("comb",SCC$Short.Name,ignore.case=TRUE)
coal.comb <-coal&comb
SCC.coal.comb <-SCC$SCC[coal.comb]
#Find NEI data that is related to Coal combustion
NEI.coal.comb<- NEI[NEI$SCC %in% SCC.coal.comb,]
#plot by source type
png("plot4.png",width=480,height=480)
g<-ggplot(NEI.coal.comb,aes(factor(year),Emissions/1000))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (10^3 x Tons)")))+
labs(title=expression(paste("Coal Combustion related Emissions of PM",""[2.5], "from 1999 to 2008")))
dev.off()
png("plot4.png",width=480,height=480)
g<-ggplot(NEI.coal.comb,aes(factor(year),Emissions/1000))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (10^3 x Tons)")))+
labs(title=expression(paste("Coal Combustion-related Emissions of PM",""[2.5], "from 1999 to 2008")))
dev.off()
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 5: How have emissions from motor vehicle sources changed from 1999–2008 in Baltimore City?
View(SCC)
coal <-grepl("coal",SCC$Level.Two,ignore.case=TRUE)
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 4: Across the United States, how have emissions from coal combustion-related sources changed from 1999–2008?
#Find SCC that is related to Coal combustion
coal <-grepl("coal",SCC$Short.Name,ignore.case=TRUE)
comb <-grepl("comb",SCC$Short.Name,ignore.case=TRUE)
coal.comb <-coal&comb
SCC.coal.comb <-SCC$SCC[coal.comb]
#Find NEI data that is related to Coal combustion
NEI.coal.comb<- NEI[NEI$SCC %in% SCC.coal.comb,]
#plot by source type
png("plot4.png",width=480,height=480)
g<-ggplot(NEI.coal.comb,aes(factor(year),Emissions/1000))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (10^3 x Tons)")))+
labs(title=expression(paste("Coal Combustion-related Emissions of PM",""[2.5], "from 1999 to 2008")))
dev.off()
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 5: How have emissions from motor vehicle sources changed from 1999–2008 in Baltimore City?
vehicle <-grepl("vehicle",SCC$Short.Name,ignore.case=TRUE)
SCC.vehicle <-SCC$SCC[vehicle]
#Find NEI data that is related to Coal combustion
NEI.vehicle<- NEI[NEI$SCC %in% SCC.vehicle,]
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 5: How have emissions from motor vehicle sources changed from 1999–2008 in Baltimore City?
#Find SCC that is related to motor vehicle
vehicle <-grepl("vehicle",SCC$Short.Name,ignore.case=TRUE)
SCC.vehicle <-SCC$SCC[vehicle]
baltimore.vehicle<- baltimore[NEI$SCC %in% SCC.vehicle,]
baltimore <-subset(NEI,fips=="24510")
baltimore.vehicle<- baltimore[NEI$SCC %in% SCC.vehicle,]
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 5: How have emissions from motor vehicle sources changed from 1999–2008 in Baltimore City?
vehicle <-grepl("vehicle",SCC$Level.Two,ignore.case=TRUE)
vehicle <-grepl("vehicle",SCC$SCC.Level.Two,ignore.case=TRUE)
SCC.vehicle <-SCC$SCC[vehicle]
baltimore <-subset(NEI,fips=="24510")
baltimore.vehicle<- baltimore[NEI$SCC %in% SCC.vehicle,]
View(baltimore)
baltimore.vehicle<- baltimore[baltimore$SCC %in% SCC.vehicle,]
View(baltimore.vehicle)
g<-ggplot(baltimore.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Coal Combustion-related Emissions of PM",""[2.5], "from 1999 to 2008")))
g<-ggplot(baltimore.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Balimore city","from 1999 to 2008")))
g<-ggplot(baltimore.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city","from 1999 to 2008")))
g<-ggplot(baltimore.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city"," from 1999 to 2008")))
rm(list=ls())
g<-ggplot(baltimore.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city"," from 1999 to 2008")))+theme_bw()
g<-ggplot(baltimore.vehicle,aes(factor(year),Emissions))
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 5: How have emissions from motor vehicle sources changed from 1999–2008 in Baltimore City?
#Find SCC that is related to motor vehicle
vehicle <-grepl("vehicle",SCC$SCC.Level.Two,ignore.case=TRUE)
SCC.vehicle <-SCC$SCC[vehicle]
#Find NEI of baltimore data that is related to Coal combustion
baltimore <-subset(NEI,fips=="24510")
baltimore.vehicle<- baltimore[baltimore$SCC %in% SCC.vehicle,]
g<-ggplot(baltimore.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city"," from 1999 to 2008")))+theme_bw()
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 4: Across the United States, how have emissions from coal combustion-related sources changed from 1999–2008?
#Find SCC that is related to Coal combustion
coal <-grepl("coal",SCC$Short.Name,ignore.case=TRUE)
comb <-grepl("comb",SCC$Short.Name,ignore.case=TRUE)
coal.comb <-coal&comb
SCC.coal.comb <-SCC$SCC[coal.comb]
#Find NEI data that is related to Coal combustion
NEI.coal.comb<- NEI[NEI$SCC %in% SCC.coal.comb,]
#plot by source type
png("plot4.png",width=480,height=480)
g<-ggplot(NEI.coal.comb,aes(factor(year),Emissions/1000))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (10^3 x Tons)")))+
labs(title=expression(paste("Coal Combustion-related Emissions of PM",""[2.5], "from 1999 to 2008")))+theme_bw()
dev.off()
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 5: How have emissions from motor vehicle sources changed from 1999–2008 in Baltimore City?
#Find SCC that is related to motor vehicle
vehicle <-grepl("vehicle",SCC$SCC.Level.Two,ignore.case=TRUE)
SCC.vehicle <-SCC$SCC[vehicle]
#Find NEI of baltimore data that is related to Coal combustion
baltimore <-subset(NEI,fips=="24510")
baltimore.vehicle<- baltimore[baltimore$SCC %in% SCC.vehicle,]
#plot by source type
png("plot5.png",width=480,height=480)
g<-ggplot(baltimore.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city"," from 1999 to 2008")))+theme_bw()
dev.off()
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 6: Compare emissions from motor vehicle sources in Baltimore City with emissions from motor vehicle sources in Los Angeles County, California (fips == "06037")
#Find SCC that is related to motor vehicle
vehicle <-grepl("vehicle",SCC$SCC.Level.Two,ignore.case=TRUE)
SCC.vehicle <-SCC$SCC[vehicle]
#Find NEI of baltimore and LA data that is related to Coal combustion
baltimore <-subset(NEI,fips=="24510")
la <-subset(NEI,fips=="06037")
baltimore.vehicle<- baltimore[baltimore$SCC %in% SCC.vehicle,]
la.vehicle<- la[la$SCC %in% SCC.vehicle,]
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 6: Compare emissions from motor vehicle sources in Baltimore City with emissions from motor vehicle sources in Los Angeles County, California (fips == "06037")
#Find SCC that is related to motor vehicle
vehicle <-grepl("vehicle",SCC$SCC.Level.Two,ignore.case=TRUE)
SCC.vehicle <-SCC$SCC[vehicle]
#Find NEI of baltimore and LA data that is related to motor vehicle
baltimore.la.vehicle <-subset(NEI,fips=="24510"|fips=="06037")
baltimore.la <-subset(NEI,fips=="24510"|fips=="06037")
rm(list=l())
rm(list=ls())
setwd("./coursera/exploratory_data_analysis/ExData_Plotting2")
# Library
library(ggplot2)
# Load Data
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Question 6: Compare emissions from motor vehicle sources in Baltimore City with emissions from motor vehicle sources in Los Angeles County, California (fips == "06037")
#Find SCC that is related to motor vehicle
vehicle <-grepl("vehicle",SCC$SCC.Level.Two,ignore.case=TRUE)
SCC.vehicle <-SCC$SCC[vehicle]
#Find NEI of baltimore or LA data that is related to motor vehicle
baltimore.la <-subset(NEI,fips=="24510"|fips=="06037")
baltimore.la.vehicle<- baltimore.la[baltimore.la$SCC %in% SCC.vehicle,]
g<-ggplot(baltimore.la.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+facet_grid(~.fips)
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city"," from 1999 to 2008")))+theme_bw()
View(baltimore.la.vehicle)
g<-ggplot(baltimore.la.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+facet_grid(.~fips)
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city"," from 1999 to 2008")))+theme_bw()
g<-ggplot(baltimore.la.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+facet_grid(.~fips)+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city"," from 1999 to 2008")))+theme_bw()
if (baltimore.la.vehicle$fips=="24510"){
baltimore.la.vehilcle<-"Baltimore City"
} else {
baltimore.la.vehilcle<-"Los Angeles County"
}
View(baltimore.la)
baltimore.la.vehicle$fips[baltimore.la.vehicle$fips=="24510"]<-"Baltimore City"
baltimore.la.vehicle$fips[baltimore.la.vehicle$fips=="06037"]<-"Los Angeles County"
g<-ggplot(baltimore.la.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+facet_grid(.~fips)+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city"," from 1999 to 2008")))+theme_bw()
g+geom_bar(stat="identity")+facet_grid(.~fips)+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city and LA County"," from 1999 to 2008")))+theme_bw()
g<-ggplot(baltimore.la.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity",fill="grey")+facet_grid(.~fips)+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city and LA County"," from 1999 to 2008")))+theme_bw()
g<-ggplot(baltimore.la.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity",fill="black")+facet_grid(.~fips)+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city and LA County"," from 1999 to 2008")))+theme_bw()
g<-ggplot(baltimore.la.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity",fill=aes(fips))+facet_grid(.~fips)+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city and LA County"," from 1999 to 2008")))+theme_bw()
g<-ggplot(baltimore.la.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity",fill=fips)+facet_grid(.~fips)+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city and LA County"," from 1999 to 2008")))+theme_bw()
g<-ggplot(baltimore.la.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+facet_grid(.~fips)+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city and LA County"," from 1999 to 2008")))+theme_bw()
png("plot6.png",width=480,height=480)
g<-ggplot(baltimore.la.vehicle,aes(factor(year),Emissions))
g+geom_bar(stat="identity")+facet_grid(.~fips)+
labs(x="Year", y=expression(paste("Total Emissions of PM",""[2.5]," (Tons)")))+
labs(title=expression(paste("Motor Vehicle Emissions of PM",""[2.5], " in the Baltimore city and LA County"," from 1999 to 2008")))+theme_bw()
dev.off()
